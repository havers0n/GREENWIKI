method,path,module,function,description,auth_required,issues
GET,/api/layout/:pageIdentifier,layoutRoutes,getLayoutByPage,"Получить опубликованные блоки страницы",false,""
GET,/api/layout/admin/:pageIdentifier,layoutRoutes,getAdminLayoutByPage,"Получить все блоки страницы (админ)",true,""
POST,/api/layout,layoutRoutes,createLayoutBlock,"Создать новый блок",true,"Не проверяет allowedChildren при вставке"
PUT,/api/layout/:blockId,layoutRoutes,updateLayoutBlock,"Обновить блок",true,"Не проверяет allowedChildren при обновлении"
DELETE,/api/layout/:blockId,layoutRoutes,deleteLayoutBlock,"Удалить блок",true,"НЕТ КАСКАДНОГО УДАЛЕНИЯ ДЕТЕЙ"
PUT,/api/layout/positions,layoutRoutes,updateLayoutPositions,"Массовое обновление позиций блоков",true,""
POST,/api/layout/:pageIdentifier/revisions,layoutRoutes,createLayoutRevision,"Создать ревизию страницы",true,"КРИТИЧНО: НЕ СОХРАНЯЕТ parent_block_id и slot"
GET,/api/layout/:pageIdentifier/revisions,layoutRoutes,getLayoutRevisions,"Получить список ревизий",true,""
POST,/api/layout/:pageIdentifier/revisions/:revisionId/revert,layoutRoutes,revertToLayoutRevision,"Откат к ревизии",true,"КРИТИЧНО: НЕ ВОССТАНАВЛИВАЕТ parent_block_id и slot"
GET,/api/pages/admin,pagesRoutes,getAdminPages,"Получить все страницы (админ)",true,""
GET,/api/pages,pagesRoutes,getPublicPages,"Получить опубликованные страницы",false,""
POST,/api/pages,pagesRoutes,createPage,"Создать страницу",true,""
PUT,/api/pages/:pageId,pagesRoutes,updatePage,"Обновить страницу",true,""
DELETE,/api/pages/:pageId,pagesRoutes,deletePage,"Удалить страницу",true,"НЕТ КАСКАДНОГО УДАЛЕНИЯ layout_blocks"
GET,/api/categories,categoriesRoutes,getCategories,"Получить все категории",false,""
POST,/api/categories,categoriesRoutes,createCategory,"Создать категорию",true,""
PUT,/api/categories/:categoryId,categoriesRoutes,updateCategory,"Обновить категорию",true,""
DELETE,/api/categories/:categoryId,categoriesRoutes,deleteCategory,"Удалить категорию",true,""
GET,/api/templates,templatesRoutes,getTemplates,"Получить шаблоны",true,""
POST,/api/templates,templatesRoutes,createTemplate,"Создать шаблон",true,""
GET,/api/templates/:id,templatesRoutes,getTemplate,"Получить шаблон по ID",true,""
