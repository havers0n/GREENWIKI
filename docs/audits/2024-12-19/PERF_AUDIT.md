# –ê—É–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –û–±–∑–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (–æ—Ü–µ–Ω–æ—á–Ω—ã–µ)

#### Web Vitals (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è):
- **First Contentful Paint (FCP):** 2.5-3.5 —Å–µ–∫ ‚ö†Ô∏è
- **Largest Contentful Paint (LCP):** 3.5-4.5 —Å–µ–∫ ‚ö†Ô∏è
- **First Input Delay (FID):** 100-200 –º—Å ‚ö†Ô∏è
- **Cumulative Layout Shift (CLS):** 0.05-0.15 ‚ö†Ô∏è

#### –†–µ–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –∏–∑–º–µ—Ä–µ–Ω–∏–∏):
- **Time to Interactive (TTI):** 4-6 —Å–µ–∫
- **Bundle Size:** 1.14 MB (gzipped: 330 KB)

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `React.memo`, `useMemo`, `useCallback`

**–ü—Ä–∏–º–µ—Ä—ã –Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
```typescript
// ‚ùå –ü–ª–æ—Ö–æ - —Ä–µ-—Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ props
const BlockRenderer: React.FC<BlockRendererProps> = ({ block, onChange }) => {
  // –ö–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  const handleChange = () => onChange(block.id);
  return <div onClick={handleChange}>{block.content}</div>;
};

// ‚úÖ –•–æ—Ä–æ—à–æ - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
const BlockRenderer: React.FC<BlockRendererProps> = React.memo(({ block, onChange }) => {
  const handleChange = useCallback(() => onChange(block.id), [block.id, onChange]);
  return <div onClick={handleChange}>{block.content}</div>;
});
```

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏:**
- `ContextualInspector` (280+ —Å—Ç—Ä–æ–∫) - –Ω–µ—Ç `React.memo`
- `EditorToolbar` (306 —Å—Ç—Ä–æ–∫) - –Ω–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ `widgets/` - –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

#### 2. –ü—Ä–æ–±–ª–µ–º—ã —Å dangerouslySetInnerHTML

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
// frontend/src/widgets/AtomicBlocks/ParagraphBlock/index.tsx:81
dangerouslySetInnerHTML={{
  __html: content.text
}}

// frontend/src/features/ReusableBlocksLibrary/BlockCard.tsx:61
parent.innerHTML = `
```

**–†–∏—Å–∫–∏:**
- XSS —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- –ù–∞—Ä—É—à–µ–Ω–∏–µ React –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ DOM
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö

#### 3. –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ Redux store

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã

```typescript
// ‚ùå –ü–ª–æ—Ö–æ - –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –≤–µ—Å—å store
const allBlocks = useAppSelector(state => state.content.blocks);

// ‚úÖ –•–æ—Ä–æ—à–æ - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä
const selectedBlock = useAppSelector(selectSelectedBlock);
```

### üü° –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

#### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- `VirtualizedCanvas` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é ‚úÖ
- –î—Ä—É–≥–∏–µ —Å–ø–∏—Å–∫–∏ (–±–ª–æ–∫–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏) –Ω–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã ‚ùå

#### 2. –ù–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** Framer Motion –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

```typescript
// ‚ùå –ú–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ª–∏—à–Ω–∏–µ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã
<AnimatePresence>
  <motion.div animate={{ x: 100 }}>
    {items.map(item => <Item key={item.id} />)}
  </motion.div>
</AnimatePresence>
```

#### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ debouncing –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –≤ ContextualInspector
- –ü–æ–∏—Å–∫ –≤ ReusableBlocksLibrary

## –ê–Ω–∞–ª–∏–∑ React Profiler (–≥–∏–ø–æ—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π)

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞:

#### 1. ContextualInspector
```
üìä Render time: 50-100ms
üìä Re-render count: 10-20 —Ä–∞–∑ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
üîç –ü—Ä–∏—á–∏–Ω–∞: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ memo, —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ —Ä–µ–Ω–¥–µ—Ä–µ
```

#### 2. BlockRenderer
```
üìä Render time: 20-50ms per block
üìä Re-render count: –í—ã—Å–æ–∫–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
üîç –ü—Ä–∏—á–∏–Ω–∞: –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ props
```

#### 3. Redux store subscriptions
```
üìä Selector calls: 100-200 per action
üìä Re-render cascade: 5-10 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
üîç –ü—Ä–∏—á–∏–Ω–∞: –®–∏—Ä–æ–∫–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ memoization
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### P0 (–ö—Ä–∏—Ç–∏—á–Ω–æ - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):

#### 1. –î–æ–±–∞–≤–∏—Ç—å React.memo –∫ –∫—Ä—É–ø–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
```typescript
// –í EditorToolbar/index.tsx
const EditorToolbar = React.memo<EditorToolbarProps>(({ ... }) => {
  // ... component logic
});

// –í ContextualInspector/index.tsx
const ContextualInspector = React.memo<ContextualInspectorProps>(({ ... }) => {
  // ... component logic
});
```

#### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–±—ç–∫–∏
```typescript
const handleSave = useCallback(async () => {
  await onSave();
}, [onSave]);

const handleBlockChange = useCallback((blockId: string, changes: any) => {
  onBlockChange(blockId, changes);
}, [onBlockChange]);
```

#### 3. –ó–∞–º–µ–Ω–∏—Ç—å dangerouslySetInnerHTML
```typescript
// –í–º–µ—Å—Ç–æ dangerouslySetInnerHTML –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React —ç–ª–µ–º–µ–Ω—Ç—ã
const renderContent = (text: string) => {
  // –ü–∞—Ä—Å–∏–Ω–≥ markdown –∏–ª–∏ HTML –≤ React —ç–ª–µ–º–µ–Ω—Ç—ã
  return <div>{parsedContent}</div>;
};
```

### P1 (–í–∞–∂–Ω–æ - –≤ –±–ª–∏–∂–∞–π—à–∏–µ 2 –Ω–µ–¥–µ–ª–∏):

#### 1. –í–Ω–µ–¥—Ä–∏—Ç—å Reselect –¥–ª—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
```typescript
// store/selectors/blockSelectors.ts
export const selectVisibleBlocks = createSelector(
  [selectAllBlocks, selectSearchTerm],
  (blocks, searchTerm) => {
    return blocks.filter(block =>
      block.name.toLowerCase().includes(searchTerm.toLowerCase())
    );
  }
);
```

#### 2. –î–æ–±–∞–≤–∏—Ç—å debouncing –¥–ª—è –ø–æ–∏—Å–∫–∞
```typescript
const debouncedSearch = useMemo(
  () => debounce((query: string) => {
    dispatch(setSearchQuery(query));
  }, 300),
  [dispatch]
);
```

#### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏
```typescript
<motion.div
  layoutId={block.id} // –î–ª—è –ø–ª–∞–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
  initial={false} // –û—Ç–∫–ª—é—á–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é
  animate={{ opacity: 1 }}
  exit={{ opacity: 0 }}
>
  {content}
</motion.div>
```

### P2 (–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è - –≤ –±–ª–∏–∂–∞–π—à–∏–π –º–µ—Å—è—Ü):

#### 1. –í–Ω–µ–¥—Ä–∏—Ç—å React Compiler (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
```typescript
// –í vite.config.ts –¥–æ–±–∞–≤–∏—Ç—å React Compiler
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```

#### 2. –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è —Å–ø–∏—Å–∫–æ–≤
```typescript
// –î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ –±–ª–æ–∫–æ–≤
import { FixedSizeList as List } from 'react-window';

<List
  height={400}
  itemCount={blocks.length}
  itemSize={50}
>
  {({ index }) => <BlockItem block={blocks[index]} />}
</List>
```

#### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å bundle splitting
```typescript
// –õ–µ–Ω–∏–≤—ã–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const HeavyEditor = lazy(() =>
  import('features/BlockEditors/HeavyEditor')
);
```

## –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```typescript
// –í–Ω–µ–¥—Ä–∏—Ç—å performance monitoring
const reportWebVitals = (metric: any) => {
  console.log(metric); // –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
  // FCP, LCP, FID, CLS
};
```

### React DevTools Profiler –º–µ—Ç—Ä–∏–∫–∏:

1. **Render duration** - –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
2. **Render count** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤
3. **Time spent** - –æ–±—â–µ–µ –≤—Ä–µ–º—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

1. **React DevTools Profiler** - –∞–Ω–∞–ª–∏–∑ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤
2. **Lighthouse CI** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **Web Vitals** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
4. **Bundle Analyzer** - –∞–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞

### –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

1. **–û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - TTI, LCP
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞** - FID, —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã
3. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –±–ª–æ–∫–∞** - —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã, –∞–Ω–∏–º–∞—Ü–∏–∏
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, UI –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** üü° –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ store
- –ü—Ä–æ–±–ª–µ–º—ã —Å dangerouslySetInnerHTML

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –°–Ω–∏–∂–µ–Ω–∏–µ TTI –Ω–∞ 30-50%
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤ –Ω–∞ 40-60%
- –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:**
1. –î–æ–±–∞–≤–∏—Ç—å React.memo –∫ –∫—Ä—É–ø–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–±—ç–∫–∏ –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
3. –ó–∞–º–µ–Ω–∏—Ç—å dangerouslySetInnerHTML –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
4. –î–æ–±–∞–≤–∏—Ç—å debouncing –∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é
