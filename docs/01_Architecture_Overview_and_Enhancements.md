# ๐๏ธ ะััะธัะตะบัััะฝัะน ะะฑะทะพั ะธ ะะปะฐะฝ ะะพะดะตัะฝะธะทะฐัะธะธ CMS

## ๐ ะกะพะดะตัะถะฐะฝะธะต
1. [ะัะดะธั ะขะตะบััะตะน ะััะธัะตะบัััั](#-ะฐัะดะธั-ัะตะบััะตะน-ะฐััะธัะตะบัััั)
2. [ะะฝะฐะปะธะท ะกััะตััะฒัััะตะน ะกะธััะตะผั ะะปะพะบะพะฒ](#-ะฐะฝะฐะปะธะท-ัััะตััะฒัััะตะน-ัะธััะตะผั-ะฑะปะพะบะพะฒ)
3. [ะะปะฐะฝ ะะพะดะตัะฝะธะทะฐัะธะธ](#-ะฟะปะฐะฝ-ะผะพะดะตัะฝะธะทะฐัะธะธ)
4. [ะะพะฒะฐั ะะพะฝัะตะฟัะธั ะะตัะฐััะธัะตัะบะธั ะะปะพะบะพะฒ](#-ะฝะพะฒะฐั-ะบะพะฝัะตะฟัะธั-ะธะตัะฐััะธัะตัะบะธั-ะฑะปะพะบะพะฒ)
5. [ะััะธัะตะบัััะฐ ะะตัะตะธัะฟะพะปัะทัะตะผัั ะะปะพะบะพะฒ](#-ะฐััะธัะตะบัััะฐ-ะฟะตัะตะธัะฟะพะปัะทัะตะผัั-ะฑะปะพะบะพะฒ)
6. [ะะธะฐะณัะฐะผะผั ะธ ะะพัะพะบ ะะฐะฝะฝัั](#-ะดะธะฐะณัะฐะผะผั-ะธ-ะฟะพัะพะบ-ะดะฐะฝะฝัั)
7. [ะะธะณัะฐัะธะพะฝะฝะฐั ะกััะฐัะตะณะธั](#-ะผะธะณัะฐัะธะพะฝะฝะฐั-ัััะฐัะตะณะธั)

---

## ๐ ะัะดะธั ะขะตะบััะตะน ะััะธัะตะบัััั

### ะกะธะปัะฝัะต ะกัะพัะพะฝั ะขะตะบััะตะน ะกะธััะตะผั

1. **ะะพะดัะปัะฝะฐั ะััะธัะตะบัััะฐ**: ะฅะพัะพัะพ ััััะบัััะธัะพะฒะฐะฝะฝะฐั ัะธััะตะผะฐ ั ัะฐะทะดะตะปะตะฝะธะตะผ ะพัะฒะตัััะฒะตะฝะฝะพััะธ
   - `CMSEngine` ะบะฐะบ ัะตะฝััะฐะปัะฝัะน ะพัะบะตัััะฐัะพั
   - ะัะดะตะปัะฝัะต ะผะตะฝะตะดะถะตัั ะดะปั ะบะพะฝัะตะฝัะฐ, ะฟะพะปัะทะพะฒะฐัะตะปะตะน, ัะฐะฑะปะพะฝะพะฒ
   - ะงะตัะบะธะต ะธะฝัะตััะตะนัั ะผะตะถะดั ะบะพะผะฟะพะฝะตะฝัะฐะผะธ

2. **ะะพะดะดะตัะถะบะฐ ะะตัะฐััะธะธ**: ะะฐะทะพะฒะฐั ะธะฝััะฐััััะบัััะฐ ะดะปั ะฒะปะพะถะตะฝะฝะพััะธ ัะถะต ัััะตััะฒัะตั
   - ะะพะปั `parent_block_id` ะธ `slot` ะฒ ัะฐะฑะปะธัะต `layout_blocks`
   - ะะตะบัััะธะฒะฝัะน ัะตะฝะดะตัะธะฝะณ ะฒ `BlockRenderer.tsx`
   - ะกะธััะตะผะฐ ะฒะฐะปะธะดะฐัะธะธ ัะฐะทะผะตัะตะฝะธั ะฒ `blockRegistry.ts`

3. **ะะธะฑะบะฐั ะกะธััะตะผะฐ ะะปะพะบะพะฒ**:
   - ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝัะน ัะตะตััั ะฑะปะพะบะพะฒ ั ะผะตัะฐะดะฐะฝะฝัะผะธ
   - ะะพะดะดะตัะถะบะฐ ะปะตะฝะธะฒะพะน ะทะฐะณััะทะบะธ ะบะพะผะฟะพะฝะตะฝัะพะฒ
   - ะกะธััะตะผะฐ ัะตะดะฐะบัะพัะพะฒ ะดะปั ะบะฐะถะดะพะณะพ ัะธะฟะฐ ะฑะปะพะบะฐ
   - Zod-ััะตะผั ะดะปั ะฒะฐะปะธะดะฐัะธะธ ะดะฐะฝะฝัั

4. **ะกะพะฒัะตะผะตะฝะฝัะน ะกัะตะบ**:
   - TypeScript ะดะปั ัะธะฟะพะฑะตะทะพะฟะฐัะฝะพััะธ
   - React ั ัะพะฒัะตะผะตะฝะฝัะผะธ ะฟะฐััะตัะฝะฐะผะธ
   - Supabase ะบะฐะบ BaaS ัะตัะตะฝะธะต
   - ะกะธััะตะผะฐ ะบะตัะธัะพะฒะฐะฝะธั ะธ ะพะฟัะธะผะธะทะฐัะธะน

### ะััะฒะปะตะฝะฝัะต ะะตะดะพััะฐัะบะธ

1. **ะะณัะฐะฝะธัะตะฝะฝะฐั ะะปัะฑะธะฝะฐ ะะปะพะถะตะฝะฝะพััะธ**:
   - ะะตั ัะฒะฝะพะน ะฟะพะดะดะตัะถะบะธ ะณะปัะฑะพะบะธั ะดะตัะตะฒัะตะฒ ะฑะปะพะบะพะฒ
   - ะััััััะฒัะตั ะฒะธะทัะฐะปะธะทะฐัะธั ะธะตัะฐััะธะธ ะฒ ะธะฝัะตััะตะนัะต
   - ะกะปะพะถะฝะพััั ัะฟัะฐะฒะปะตะฝะธั ะฟะพะทะธัะธัะผะธ ะฒ ะณะปัะฑะพะบะพะน ะธะตัะฐััะธะธ

2. **ะััััััะฒะธะต ะะตัะตะธัะฟะพะปัะทัะตะผัั ะะพะผะฟะพะฝะตะฝัะพะฒ**:
   - ะะตั ะฒะพะทะผะพะถะฝะพััะธ ัะพััะฐะฝััั ะณััะฟะฟั ะฑะปะพะบะพะฒ ะบะฐะบ ัะฐะฑะปะพะฝั
   - ะััััััะฒัะตั ัะธััะตะผะฐ ะธะฝััะฐะฝัะธัะพะฒะฐะฝะธั ั ะฟะตัะตะพะฟัะตะดะตะปะตะฝะธัะผะธ
   - ะะตั ะฑะธะฑะปะธะพัะตะบะธ ะณะปะพะฑะฐะปัะฝัั ะฒะธะดะถะตัะพะฒ

3. **ะัะพะฑะปะตะผั ะะฐัััะฐะฑะธััะตะผะพััะธ**:
   - ะะธะฝะตะนะฝัะน ัะพัั ัะปะพะถะฝะพััะธ ะฟัะธ ัะฒะตะปะธัะตะฝะธะธ ะบะพะปะธัะตััะฒะฐ ะฑะปะพะบะพะฒ
   - ะััััััะฒะธะต ะพะฟัะธะผะธะทะฐัะธะน ะดะปั ะฑะพะปััะธั ะดะตัะตะฒัะตะฒ
   - ะะพัะตะฝัะธะฐะปัะฝัะต ะฟัะพะฑะปะตะผั ั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพัััั

---

## ๐งฉ ะะฝะฐะปะธะท ะกััะตััะฒัััะตะน ะกะธััะตะผั ะะปะพะบะพะฒ

### ะขะตะบััะฐั ะกัััะบัััะฐ ะะฐะฝะฝัั

```sql
-- layout_blocks table (ัะฟัะพัะตะฝะฝะฐั ััะตะผะฐ)
CREATE TABLE layout_blocks (
  id uuid PRIMARY KEY,
  page_identifier text NOT NULL,
  block_type text NOT NULL,
  content jsonb,                    -- ะดะฐะฝะฝัะต ะฑะปะพะบะฐ
  position integer,                 -- ะฟะพะทะธัะธั ะฒ ัะพะดะธัะตะปััะบะพะผ ะบะพะฝัะตะนะฝะตัะต
  parent_block_id uuid,             -- ัััะปะบะฐ ะฝะฐ ัะพะดะธัะตะปั
  slot text,                        -- ะธะผั ัะปะพัะฐ ะฒ ัะพะดะธัะตะปะต
  status text,                      -- published/draft
  metadata jsonb                    -- ะดะพะฟะพะปะฝะธัะตะปัะฝัะต ะผะตัะฐะดะฐะฝะฝัะต
);
```

### ะกััะตััะฒัััะฐั ะะตัะฐััะธั

```typescript
// ะขะตะบััะฐั ััััะบัััะฐ ะดะตัะตะฒะฐ ะฒ ะฟะฐะผััะธ
interface BlockNode {
  id: string;
  block_type: string;
  content: any;
  position: number;
  parent_block_id: string | null;
  slot: string | null;
  children: BlockNode[];  // ะฒััะธัะปัะตััั ัะตะบัััะธะฒะฝะพ
}
```

### ะัะพะฑะปะตะผั ะขะตะบััะตะน ะะตะฐะปะธะทะฐัะธะธ

1. **ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั**: ะะตะบัััะธะฒะฝัะน ะพะฑัะพะด ะดะตัะตะฒะฐ ะฟัะธ ะบะฐะถะดะพะผ ัะตะฝะดะตัะต
2. **ะะตัะธัะพะฒะฐะฝะธะต**: ะกะปะพะถะฝะพััั ะธะฝะฒะฐะปะธะดะฐัะธะธ ะบะตัะฐ ะดะปั ัะฐััะธัะฝัั ะพะฑะฝะพะฒะปะตะฝะธะน
3. **ะะฐะปะธะดะฐัะธั**: ะััััััะฒะธะต ะบะพะผะฟะปะตะบัะฝะพะน ะฟัะพะฒะตัะบะธ ัะตะปะพััะฝะพััะธ ะดะตัะตะฒะฐ
4. **UI/UX**: ะะตะดะพััะฐัะพัะฝะฐั ะฒะธะทัะฐะปะธะทะฐัะธั ะธะตัะฐััะธะธ ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน

---

## ๐ ะะปะฐะฝ ะะพะดะตัะฝะธะทะฐัะธะธ

### ะคะฐะทะฐ 1: ะฃะปัััะตะฝะธะต ะะตัะฐััะธัะตัะบะพะน ะกะธััะตะผั

#### 1.1 ะะฟัะธะผะธะทะฐัะธั ะกัััะบัััั ะะฐะฝะฝัั
- ะะฒะตะดะตะฝะธะต ะธะฝะดะตะบัะพะฒ ะดะปั ะฑััััะพะณะพ ะฟะพะธัะบะฐ ะฟะพ `parent_block_id`
- ะะพะฑะฐะฒะปะตะฝะธะต ะฟะพะปั `depth` ะดะปั ะฟัะตะดะพัะฒัะฐัะตะฝะธั ะฑะตัะบะพะฝะตัะฝะพะน ัะตะบัััะธะธ
- ะะฟัะธะผะธะทะฐัะธั ะทะฐะฟัะพัะพะฒ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ CTE (Common Table Expressions)

#### 1.2 ะฃะปัััะตะฝะธะต ะะตะฝะดะตัะธะฝะณะฐ
- ะะตะฐะปะธะทะฐัะธั ะฒะธัััะฐะปะธะทะฐัะธะธ ะดะปั ะฑะพะปััะธั ะดะตัะตะฒัะตะฒ
- ะะตะฝะธะฒะฐั ะทะฐะณััะทะบะฐ ะดะพัะตัะฝะธั ะฑะปะพะบะพะฒ
- ะะฟัะธะผะธะทะฐัะธั ะฟะตัะตัะธัะพะฒะพะบ ั ะฟะพะผะพััั React.memo

#### 1.3 ะฃะปัััะตะฝะธะต UX
- ะะธะทัะฐะปะธะทะฐัะธั ะธะตัะฐััะธะธ ะฒ ะดะตัะตะฒะต ะฝะฐะฒะธะณะฐัะธะธ
- Drag & Drop ั ััะตัะพะผ ะฒะปะพะถะตะฝะฝะพััะธ
- ะะพะฝัะตะบััะฝัะต ะผะตะฝั ะดะปั ะพะฟะตัะฐัะธะน ั ะดะตัะตะฒะพะผ

### ะคะฐะทะฐ 2: ะกะธััะตะผะฐ ะะตัะตะธัะฟะพะปัะทัะตะผัั ะะปะพะบะพะฒ

#### 2.1 ะะพะฒะฐั ะััะธัะตะบัััะฐ
```
ReusableBlock (ัะฐะฑะปะพะฝ)
โโโ Master Content (ะพัะธะณะธะฝะฐะปัะฝัะต ะดะฐะฝะฝัะต)
โโโ Metadata (ะฝะฐะทะฒะฐะฝะธะต, ะพะฟะธัะฐะฝะธะต, ัะตะณะธ)
โโโ Version History (ะธััะพัะธั ะธะทะผะตะฝะตะฝะธะน)
โโโ Instances (ัะบะทะตะผะฟะปััั ะฝะฐ ัััะฐะฝะธัะฐั)
    โโโ Instance 1 (ัะพ ัะฒะพะธะผะธ overrides)
    โโโ Instance 2 (ัะพ ัะฒะพะธะผะธ overrides)
    โโโ ...
```

#### 2.2 ะะตัะฐะฝะธะทะผ Overrides
- ะะปัะฑะพะบะพะต ัะปะธัะฝะธะต ะดะฐะฝะฝัั (deep merge)
- ะะพะดะดะตัะถะบะฐ ัะฐััะธัะฝัั ะฟะตัะตะพะฟัะตะดะตะปะตะฝะธะน
- ะะฐัะบะฐะดะฝะพะต ะฝะฐัะปะตะดะพะฒะฐะฝะธะต ัะฒะพะนััะฒ

#### 2.3 ะะธะฑะปะธะพัะตะบะฐ ะะพะผะฟะพะฝะตะฝัะพะฒ
- ะะฐัะตะณะพัะธะทะฐัะธั ะธ ะฟะพะธัะบ
- ะัะตะฒัั ะบะพะผะฟะพะฝะตะฝัะพะฒ
- ะฃะฟัะฐะฒะปะตะฝะธะต ะฒะตััะธัะผะธ

### ะคะฐะทะฐ 3: ะะฝัะตะณัะฐัะธั ะธ ะะฟัะธะผะธะทะฐัะธะธ

#### 3.1 API ะะฟัะธะผะธะทะฐัะธะธ
- GraphQL ะดะปั ัััะตะบัะธะฒะฝัั ะทะฐะฟัะพัะพะฒ ะดะตัะตะฒัะตะฒ
- WebSocket ะดะปั realtime ัะธะฝััะพะฝะธะทะฐัะธะธ
- ะะตัะธัะพะฒะฐะฝะธะต ั ะธะฝะฒะฐะปะธะดะฐัะธะตะน ะฟะพ ะดะตัะตะฒั

#### 3.2 ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
- Database-level ะพะฟัะธะผะธะทะฐัะธะธ
- Frontend ะฒะธัััะฐะปะธะทะฐัะธั
- CDN ะดะปั ััะฐัะธัะตัะบะธั ัะตััััะพะฒ

---

## ๐ณ ะะพะฒะฐั ะะพะฝัะตะฟัะธั ะะตัะฐััะธัะตัะบะธั ะะปะพะบะพะฒ

### ะฃัะพะฒะฝะธ ะะฑัััะฐะบัะธะธ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    PAGE LEVEL                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ              SECTION LEVEL                           โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ   โ
โ  โ  โ          CONTAINER LEVEL                         โ โ   โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ   โ
โ  โ  โ  โ      COMPONENT LEVEL                        โ โ โ   โ
โ  โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ   โ
โ  โ  โ  โ  โ   ELEMENT LEVEL                         โ โ โ โ   โ
โ  โ  โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ โ   โ
โ  โ  โ  โ  โ  โ  ATOMIC LEVEL                       โ โ โ โ โ   โ
โ  โ  โ  โ  โ  โ  [Text] [Button] [Image] [Spacer]   โ โ โ โ โ   โ
โ  โ  โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ โ   โ
โ  โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ   โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะขะธะฟั ะะปะพะบะพะฒ ะฒ ะะพะฒะพะน ะััะธัะตะบัััะต

#### 1. **ะัะพะผะฐัะฝัะต ะะปะพะบะธ** (Leaf Nodes)
```typescript
interface AtomicBlock {
  type: 'heading' | 'paragraph' | 'image' | 'button' | 'spacer';
  content: AtomicContent;
  canHaveChildren: false;
}
```

#### 2. **ะะพะฝัะตะนะฝะตัะฝัะต ะะปะพะบะธ** (Container Nodes)
```typescript
interface ContainerBlock {
  type: 'section' | 'container' | 'tabs' | 'accordion';
  content: ContainerContent;
  canHaveChildren: true;
  allowedChildren: string[];
  allowedSlots: string[];
  children: BlockNode[];
}
```

#### 3. **ะะตัะตะธัะฟะพะปัะทัะตะผัะต ะะปะพะบะธ** (Reusable Nodes)
```typescript
interface ReusableBlock {
  type: 'reusable_instance';
  content: InstanceContent;
  masterBlockId: string;
  overrides: OverrideMap;
  canHaveChildren: false;  // ะธะฝััะฐะฝัั ะฝะต ะธะผะตัั ะฟััะผัั ะดะตัะตะน
}
```

---

## ๐ ะััะธัะตะบัััะฐ ะะตัะตะธัะฟะพะปัะทัะตะผัั ะะปะพะบะพะฒ

### ะัะฝะพะฒะฝัะต ะะพะผะฟะพะฝะตะฝัั

#### 1. **Master Block** (ะจะฐะฑะปะพะฝ)
```typescript
interface MasterBlock {
  id: string;
  name: string;
  description: string;
  category: string;
  tags: string[];
  content: MasterContent;
  children: BlockNode[];
  version: number;
  createdBy: string;
  createdAt: Date;
  updatedAt: Date;
}
```

#### 2. **Block Instance** (ะญะบะทะตะผะฟะปัั)
```typescript
interface BlockInstance {
  id: string;
  masterBlockId: string;
  pageId: string;
  position: number;
  parentBlockId: string | null;
  slot: string | null;
  overrides: OverrideMap;
  createdAt: Date;
}
```

#### 3. **Override System** (ะกะธััะตะผะฐ ะะตัะตะพะฟัะตะดะตะปะตะฝะธะน)
```typescript
interface OverrideMap {
  [blockId: string]: {
    [propertyPath: string]: any;
  };
}

// ะัะธะผะตั ะฟะตัะตะพะฟัะตะดะตะปะตะฝะธั
const overrides = {
  "button-1": {
    "text": "ะะพะฒัะน ัะตะบัั ะบะฝะพะฟะบะธ",
    "link": "/new-link",
    "style.variant": "secondary"
  },
  "image-1": {
    "src": "https://new-image.jpg",
    "alt": "ะะพะฒะพะต ะพะฟะธัะฐะฝะธะต"
  }
};
```

### ะัะพัะตัั ะะฝััะฐะฝัะธัะพะฒะฐะฝะธั

```mermaid
graph TD
    A[ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั<br/>Reusable Block] --> B[ะกะพะทะดะฐะฝะธะต Instance]
    B --> C[ะะตะฝะตัะฐัะธั ัะฝะธะบะฐะปัะฝัั ID<br/>ะดะปั ะฒัะตั ะดะพัะตัะฝะธั ะฑะปะพะบะพะฒ]
    C --> D[ะกะพััะฐะฝะตะฝะธะต ะฒ ะะ<br/>ั parentBlockId = instance.id]
    D --> E[ะัะธะผะตะฝะตะฝะธะต overrides<br/>ะฟัะธ ัะตะฝะดะตัะธะฝะณะต]

    F[ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต Instance] --> G[ะะฑะฝะพะฒะปะตะฝะธะต overrides<br/>ะฒ ะะ]
    G --> H[ะะตัะตัะฐััะตั ะดะตัะตะฒะฐ<br/>ั ััะตัะพะผ overrides]
```

---

## ๐ ะะธะฐะณัะฐะผะผั ะธ ะะพัะพะบ ะะฐะฝะฝัั

### ะััะธัะตะบัััะฐ ะกะธััะตะผั

```mermaid
graph TB
    subgraph "Frontend Layer"
        UI[User Interface]
        Editor[Block Editor]
        Library[Component Library]
        Renderer[Block Renderer]
    end

    subgraph "API Layer"
        REST[REST API]
        WS[WebSocket]
        GraphQL[GraphQL API]
    end

    subgraph "Business Logic Layer"
        Engine[CMS Engine]
        ContentMgr[Content Manager]
        TemplateMgr[Template Manager]
        ReusableMgr[Reusable Block Manager]
    end

    subgraph "Data Layer"
        DB[(PostgreSQL)]
        Cache[(Redis)]
        Storage[(File Storage)]
    end

    UI --> REST
    UI --> WS
    Editor --> GraphQL
    Library --> REST

    REST --> ContentMgr
    WS --> ContentMgr
    GraphQL --> ReusableMgr

    ContentMgr --> Engine
    ReusableMgr --> Engine
    TemplateMgr --> Engine

    Engine --> DB
    Engine --> Cache
    Engine --> Storage
```

### ะะพัะพะบ ะะฐะฝะฝัั ะดะปั ะะตัะตะธัะฟะพะปัะทัะตะผัั ะะปะพะบะพะฒ

```mermaid
sequenceDiagram
    participant U as User
    participant FE as Frontend
    participant API as Backend API
    participant DB as Database

    U->>FE: ะัะฑะพั reusable block ะธะท ะฑะธะฑะปะธะพัะตะบะธ
    FE->>API: POST /api/reusable-blocks/{id}/instantiate
    API->>DB: ะะพะปััะตะฝะธะต master block ั ะดะตััะผะธ
    DB-->>API: Master block data + children tree
    API->>API: ะะตะฝะตัะฐัะธั ะฝะพะฒัั ID ะดะปั instance tree
    API->>DB: ะกะพััะฐะฝะตะฝะธะต instance tree
    DB-->>API: Instance ัะพะทะดะฐะฝ
    API-->>FE: Instance data ะดะปั ัะตะฝะดะตัะธะฝะณะฐ

    U->>FE: ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัะตะบััะฐ ะฒ ะบะฝะพะฟะบะต
    FE->>API: PATCH /api/block-instances/{instanceId}/overrides
    API->>DB: ะกะพััะฐะฝะตะฝะธะต override ะดะปั button.text
    DB-->>API: Override ัะพััะฐะฝะตะฝ
    API-->>FE: ะะพะดัะฒะตัะถะดะตะฝะธะต ะพะฑะฝะพะฒะปะตะฝะธั

    FE->>FE: ะะตะฝะดะตัะธะฝะณ ั merged data
    Note over FE: Master data + Instance overrides
```

---

## ๐ ะะธะณัะฐัะธะพะฝะฝะฐั ะกััะฐัะตะณะธั

### ะญัะฐะฟั ะะธะณัะฐัะธะธ

#### ะญัะฐะฟ 1: ะะพะดะณะพัะพะฒะบะฐ (1-2 ะฝะตะดะตะปะธ)
1. ะะฝะฐะปะธะท ัััะตััะฒัััะตะน ะฑะฐะทั ะดะฐะฝะฝัั
2. ะกะพะทะดะฐะฝะธะต ะฑัะบะฐะฟะพะฒ ะบัะธัะธัะตัะบะธ ะฒะฐะถะฝัั ะดะฐะฝะฝัั
3. ะะฐะทัะฐะฑะพัะบะฐ ัะบัะธะฟัะพะฒ ะผะธะณัะฐัะธะธ
4. ะขะตััะธัะพะฒะฐะฝะธะต ะผะธะณัะฐัะธะธ ะฝะฐ staging ะพะบััะถะตะฝะธะธ

#### ะญัะฐะฟ 2: ะะธะณัะฐัะธั ะะฐะทั ะะฐะฝะฝัั (1 ะฝะตะดะตะปั)
1. ะกะพะทะดะฐะฝะธะต ะฝะพะฒัั ัะฐะฑะปะธั ะดะปั reusable blocks
2. ะะธะณัะฐัะธั ัััะตััะฒัััะธั ะฑะปะพะบะพะฒ
3. ะะฑะฝะพะฒะปะตะฝะธะต ะธะฝะดะตะบัะพะฒ ะธ ะพะณัะฐะฝะธัะตะฝะธะน
4. ะะฐะปะธะดะฐัะธั ัะตะปะพััะฝะพััะธ ะดะฐะฝะฝัั

#### ะญัะฐะฟ 3: Backend ะะพะดะตัะฝะธะทะฐัะธั (2-3 ะฝะตะดะตะปะธ)
1. ะะฑะฝะพะฒะปะตะฝะธะต API ัะฝะดะฟะพะธะฝัะพะฒ
2. ะะตะฐะปะธะทะฐัะธั ะผะตะฝะตะดะถะตัะฐ reusable blocks
3. ะะฑะฝะพะฒะปะตะฝะธะต ัะธััะตะผั ะบะตัะธัะพะฒะฐะฝะธั
4. ะะพะฑะฐะฒะปะตะฝะธะต ะฒะฐะปะธะดะฐัะธะธ ะดะปั ะฝะพะฒะพะน ััััะบัััั

#### ะญัะฐะฟ 4: Frontend ะะพะดะตัะฝะธะทะฐัะธั (2-3 ะฝะตะดะตะปะธ)
1. ะะฑะฝะพะฒะปะตะฝะธะต ะบะพะผะฟะพะฝะตะฝัะพะฒ ัะตะฝะดะตัะธะฝะณะฐ
2. ะะตะฐะปะธะทะฐัะธั UI ะดะปั ะฑะธะฑะปะธะพัะตะบะธ ะบะพะผะฟะพะฝะตะฝัะพะฒ
3. ะะพะฑะฐะฒะปะตะฝะธะต ัะธััะตะผั overrides ะฒ ัะตะดะฐะบัะพั
4. ะะฟัะธะผะธะทะฐัะธั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

#### ะญัะฐะฟ 5: ะขะตััะธัะพะฒะฐะฝะธะต ะธ ะะฟัะธะผะธะทะฐัะธั (1-2 ะฝะตะดะตะปะธ)
1. ะะฝัะตะณัะฐัะธะพะฝะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต
2. Performance ัะตััะธัะพะฒะฐะฝะธะต
3. User acceptance testing
4. Production deployment

### ะะธัะบะธ ะธ ะะตัั ะัะตะดะพััะพัะพะถะฝะพััะธ

1. **ะะพัะตัั ะะฐะฝะฝัั**: ะะพะปะฝัะต ะฑัะบะฐะฟั ะฟะตัะตะด ะบะฐะถะดะพะน ะผะธะณัะฐัะธะตะน
2. **ะัะพััะพะธ**: ะะพััะฐะฟะฝะพะต ัะฐะทะฒะตัััะฒะฐะฝะธะต ั fallback
3. **ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั**: ะะพััะตะฟะตะฝะฝะพะต ัะฒะตะปะธัะตะฝะธะต ะฝะฐะณััะทะบะธ ะฝะฐ staging
4. **ะะตะณัะตััะธะธ**: ะะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝัะต ัะตััั ะดะปั ะบัะธัะธัะตัะบะธั ััะตะฝะฐัะธะตะฒ

### Rollback ะกััะฐัะตะณะธั

1. **ะัััััะน Rollback**: ะะพะทะผะพะถะฝะพััั ะพัะบะฐัะฐ ะบ ะฟัะตะดัะดััะตะน ะฒะตััะธะธ ะฒ ัะตัะตะฝะธะต 24 ัะฐัะพะฒ
2. **ะะพัะฐะณะพะฒัะน Rollback**: ะะพะทะผะพะถะฝะพััั ะพัะบะฐัะฐ ะพัะดะตะปัะฝัั ะบะพะผะฟะพะฝะตะฝัะพะฒ
3. **Data Rollback**: ะะพัััะฐะฝะพะฒะปะตะฝะธะต ะธะท ะฑัะบะฐะฟะพะฒ ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ

---

## ๐ฏ ะะฐะบะปััะตะฝะธะต

ะัะตะดะปะพะถะตะฝะฝะฐั ะผะพะดะตัะฝะธะทะฐัะธั ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน ะบะพะผะฟะปะตะบัะฝะพะต ัะตัะตะฝะธะต ะดะปั ะฒะฝะตะดัะตะฝะธั ัะพะฒัะตะผะตะฝะฝัั ััะฝะบัะธะน CMS:

- **ะะตัะฐััะธัะตัะบะฐั ัะธััะตะผะฐ ะฑะปะพะบะพะฒ** ั ะพะฟัะธะผะธะทะธัะพะฒะฐะฝะฝัะผ ัะตะฝะดะตัะธะฝะณะพะผ
- **ะกะธััะตะผะฐ ะฟะตัะตะธัะฟะพะปัะทัะตะผัั ะบะพะผะฟะพะฝะตะฝัะพะฒ** ั ะผะพัะฝะพะน ัะธััะตะผะพะน overrides
- **ะะฐัััะฐะฑะธััะตะผะฐั ะฐััะธัะตะบัััะฐ** ั ััะตัะพะผ ะฑัะดััะธั ััะตะฑะพะฒะฐะฝะธะน
- **ะกะพะฒัะตะผะตะฝะฝัะน ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ะพะฟัั** ั ะธะฝััะธัะธะฒะฝัะผ ะธะฝัะตััะตะนัะพะผ

ะะตะฐะปะธะทะฐัะธั ะดะฐะฝะฝะพะณะพ ะฟะปะฐะฝะฐ ะฟะพะทะฒะพะปะธั ัะพะทะดะฐัั ะบะพะฝะบััะตะฝัะพัะฟะพัะพะฑะฝัั CMS ั ััะฝะบัะธะพะฝะฐะปัะฝะพัััั ััะพะฒะฝั Elementor/Webflow/Tilda, ัะพััะฐะฝะธะฒ ะฟัะธ ััะพะผ ะฟัะตะธะผััะตััะฒะฐ ัััะตััะฒัััะตะน ะบะพะดะพะฒะพะน ะฑะฐะทั.
